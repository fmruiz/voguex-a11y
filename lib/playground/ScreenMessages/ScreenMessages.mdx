import { Meta } from "@storybook/blocks";
import ScreenMessages from "./ScreenMessages.stories.tsx";

<Meta of={ScreenMessages} />

# **useScreenMessages**

This hook allows to detect quickly that something happen in your application, you can use this with another hook to speak a message using speech synthesis.

## **Resources** :

- [Accessibility Screen Readers](https://www.w3schools.com/accessibility/accessibility_screen_readers.php)
- [How to Design Your Website for Screen Reader Accessibility](https://blog.hubspot.com/website/screen-reader-accessibility)
- [W3C: Text to Speech](https://www.w3.org/WAI/perspective-videos/speech/)

## **Example** :

```tsx
  const { screenReaderMessages, setScreenReaderMessages } = useScreenMessages();

  const handleClick = () => {
    setScreenReaderMessages({
      action: "Â¡Call To Action!",
    });
  };
  useEffect(() => {
    return () => {
      setScreenReaderMessages({});
    };
  }, [setScreenReaderMessages]);

  return (
    <section>
      <p
        aria-label="title of component"
        aria-describedby="description of the hook"
        style={{ textDecoration: "underline" }}
      >
        Click in the button to notify about some action:
      </p>
      <div
        style={{
          display: "flex",
          justifyContent: "center",
          flexDirection: "column",
        }}
      >
        {Object.keys(screenReaderMessages).map((key) => (
          <p
            style={{ textAlign: "center" }}
            aria-label={screenReaderMessages[key]}
            key={key}
          >
            {screenReaderMessages[key]}
          </p>
        ))}
        <button
          aria-label="call to action button"
          onClick={handleClick}
          style={{ width: "100px", margin: "0 auto" }}
        >
          Click Here
        </button>
      </div>
    </section>
  );
```