import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{r as o}from"./index-uubelm5h.js";const x={english:"en",spanish:"es",french:"fr",german:"de",italian:"it",portuguese:"pt",russian:"ru",chinese_mandarin:"zh-CN",japanese:"ja",korean:"ko",arabic:"ar",hindi:"hi",bengali:"bn",urdu:"ur",turkish:"tr"},j=a=>{const[n,m]=o.useState(!1),[s,b]=o.useState(!1),[i,g]=o.useState(x.english),[k,r]=o.useState(!1),[c,l]=o.useState(!0),[f,u]=o.useState(!0);return o.useEffect(()=>(s&&(n||(async()=>{try{const t=await navigator.mediaDevices.getUserMedia({audio:!0});m(!0),t.getTracks().forEach(d=>d.stop())}catch(t){console.error("Error requesting permission to access microphone:",t)}})()),()=>{}),[n,s]),o.useEffect(()=>{if(s&&n){const h=t=>{const d=t.results[t.results.length-1][0].transcript.toLowerCase().trim();Object.prototype.hasOwnProperty.call(a,d)?(r(!1),a[d]()):r(!0)};if("webkitSpeechRecognition"in window){u(!0);const t=new webkitSpeechRecognition;return t.lang=i,t.onresult=h,t.continuous=c,t.start(),()=>{t.stop()}}else u(!1),console.error(`webkitSpeechRecognition doesnt exist in this navigator, 
            please check this availability: 
            https://developer.mozilla.org/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API#compatibilidad_de_navegadores`)}},[n,a,i,s,c]),{language:i,languagesExampleValues:x,activeVoiceCallback:s,speakCommandError:k,continuousRecognition:c,webkitSpeechRecognitionExist:f,setLanguage:g,setActiveVoiceCallback:b,setContinuousRecognition:l}},C=()=>{const[a,n]=o.useState(!1),[m,s]=o.useState(!1),[b,i]=o.useState(!1),g={"go to home":()=>{n(!0)},"go to payments":()=>{s(!0)},"go to contact":()=>{i(!0)}},k=()=>{n(!1),s(!1),i(!1)},{activeVoiceCallback:r,speakCommandError:c,continuousRecognition:l,setActiveVoiceCallback:f,setContinuousRecognition:u,webkitSpeechRecognitionExist:h}=j(g);return e.jsxs("section",{children:[e.jsx("p",{"aria-label":"title component","aria-describedby":"advice to use this component in chrome navigator instead other navigators",style:{textDecoration:"underline",textAlign:"center"},children:"The useSpeakCallback hook use webkitSpeechRecognition API and this is only available in chrome, if you are using another navigator, please test this component in chrome navigator:"}),!h&&e.jsx("p",{"aria-label":"webkitspeechrecognition status","aria-describedby":"this is to know if our navigator have or not the webkitspeechrecognition API",style:{textAlign:"center",color:"red"},children:"WebkitSpeechRecognition API doesnt exist, please change your navigator"}),e.jsxs("p",{"aria-label":"voice Callback status","aria-describedby":"this is to know voice callback status",style:{textAlign:"center"},children:["Voice Callback status: ",r?"ON":"OFF"]}),e.jsxs("p",{"aria-label":"continuous Recognition status","aria-describedby":"this is to know continuous recognition status",style:{textAlign:"center"},children:["Continuous Recognition status: ",l?"ON":"OFF"]}),e.jsxs("section",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Commands availables:"}),e.jsxs("ul",{children:[e.jsx("li",{id:"first-command",children:a?"Go to home: we can use the command to navigate or for anything else":"Go to home"}),e.jsx("li",{children:m?"Go to payments: maybe you can use the callback to pay something, you need to be creative":"Go to payments"}),e.jsx("li",{children:b?"Go to contact: you can use to show contact information if you want it":"Go to contact"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[e.jsxs("button",{"aria-label":"button to active voice callback",onClick:()=>f(!0),children:[r?"Disable":"Enable"," voice callback"]}),e.jsx("button",{"aria-label":"button clean the list command state",onClick:()=>k(),children:"Clean command list status"}),e.jsxs("button",{"aria-label":"button to active continuous recognition",onClick:()=>u(!l),children:[l?"Disable":"Enable"," continuous recognition"]})]}),c&&e.jsx("p",{"aria-label":"error message","aria-describedby":"error message if we say an incorrect command",children:"Error: Incorrect command voice"})]})};C.__docgenInfo={description:"",methods:[],displayName:"SpeakCallback"};const R={title:"Hooks/useSpeakCallback",component:C,parameters:{layout:"centered",notes:"These are notes for the Button stories",info:"This is info for the Button stories",docs:{subtitle:"This is the subtitle for the Button stories"}}},p={};var y,v,S;p.parameters={...p.parameters,docs:{...(y=p.parameters)==null?void 0:y.docs,source:{originalSource:"{}",...(S=(v=p.parameters)==null?void 0:v.docs)==null?void 0:S.source}}};const O=["Example"];export{p as Example,O as __namedExportsOrder,R as default};
