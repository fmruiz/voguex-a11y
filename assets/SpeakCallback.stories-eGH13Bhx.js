import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{r as o}from"./index-uubelm5h.js";const k={english:"en",spanish:"es",french:"fr",german:"de",italian:"it",portuguese:"pt",russian:"ru",chinese_mandarin:"zh-CN",japanese:"ja",korean:"ko",arabic:"ar",hindi:"hi",bengali:"bn",urdu:"ur",turkish:"tr"},v=i=>{const[n,h]=o.useState(!1),[s,p]=o.useState(!1),[a,g]=o.useState(k.english),[b,r]=o.useState(!1),[c,l]=o.useState(!0);return o.useEffect(()=>(s&&(n||(async()=>{try{const t=await navigator.mediaDevices.getUserMedia({audio:!0});h(!0),t.getTracks().forEach(m=>m.stop())}catch(t){console.error("Error requesting permission to access microphone:",t)}})()),()=>{}),[n,s]),o.useEffect(()=>{if(s&&n){const u=m=>{const f=m.results[m.results.length-1][0].transcript.toLowerCase().trim();Object.prototype.hasOwnProperty.call(i,f)?(r(!1),i[f]()):r(!0)},t=new webkitSpeechRecognition;return t.lang=a,t.onresult=u,t.continuous=c,t.start(),()=>{t.stop()}}},[n,i,a,s,c]),{language:a,languagesExampleValues:k,activeVoiceCallback:s,speakCommandError:b,continuousRecognition:c,setLanguage:g,setActiveVoiceCallback:p,setContinuousRecognition:l}},j=()=>{const[i,n]=o.useState(!1),[h,s]=o.useState(!1),[p,a]=o.useState(!1),g={"go to home":()=>{n(!0)},"go to payments":()=>{s(!0)},"go to contact":()=>{a(!0)}},b=()=>{n(!1),s(!1),a(!1)},{activeVoiceCallback:r,speakCommandError:c,continuousRecognition:l,setActiveVoiceCallback:u,setContinuousRecognition:t}=v(g);return e.jsxs("section",{children:[e.jsx("p",{"aria-label":"title component","aria-describedby":"advice to use this component in chrome navigator instead other navigators",style:{textDecoration:"underline",textAlign:"center"},children:"The useSpeakCallback hook use webkitSpeechRecognition API and this is only available in chrome, if you are using another navigator, please test this component in chrome navigator:"}),e.jsxs("p",{style:{textAlign:"center"},children:["Voice Callback status: ",r?"ON":"OFF"]}),e.jsxs("p",{style:{textAlign:"center"},children:["Continuous Recognition status: ",l?"ON":"OFF"]}),e.jsxs("section",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Commands availables:"}),e.jsxs("ul",{children:[e.jsx("li",{id:"first-command",children:i?"Go to home: we can use the command to navigate or for anything else":"Go to home"}),e.jsx("li",{children:h?"Go to payments: maybe you can use the callback to pay something, you need to be creative":"Go to payments"}),e.jsx("li",{children:p?"Go to contact: you can use to show contact information if you want it":"Go to contact"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[e.jsxs("button",{"aria-label":"button to active voice callback",onClick:()=>u(!0),children:[r?"Disable":"Enable"," voice callback"]}),e.jsx("button",{"aria-label":"button clean the list command state",onClick:()=>b(),children:"Clean command list status"}),e.jsxs("button",{"aria-label":"button to active continuous recognition",onClick:()=>t(!l),children:[l?"Disable":"Enable"," continuous recognition"]})]}),c&&e.jsx("p",{"aria-label":"error message","aria-describedby":"error message if we say an incorrect command",children:"Error: Incorrect command voice"})]})};j.__docgenInfo={description:"",methods:[],displayName:"SpeakCallback"};const O={title:"Hooks/useSpeakCallback",component:j,parameters:{layout:"centered",notes:"These are notes for the Button stories",info:"This is info for the Button stories",docs:{subtitle:"This is the subtitle for the Button stories"}}},d={};var y,x,C;d.parameters={...d.parameters,docs:{...(y=d.parameters)==null?void 0:y.docs,source:{originalSource:"{}",...(C=(x=d.parameters)==null?void 0:x.docs)==null?void 0:C.source}}};const w=["Example"];export{d as Example,w as __namedExportsOrder,O as default};
